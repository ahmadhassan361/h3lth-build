"use strict";(self.webpackChunkacadify_saas_frontend=self.webpackChunkacadify_saas_frontend||[]).push([[105],{5105:function(e,s,n){n.r(s),n.d(s,{default:function(){return m}});var l=n(5861),i=n(885),r=n(7757),t=n.n(r),a=n(2791),o=n(4569),d=n.n(o),c=n(6431),u=n.n(c),v=(n(3528),n(184));var m=function(){var e,s,n,r,o,c,m,h,p,x,g,j,f,_,N,w,q,b,y,k,S,Z,I,F,E,C,T,Y,D,H,O,P,G,J=(0,a.useState)(""),M=(0,i.Z)(J,2),R=M[0],A=M[1],L=(0,a.useState)([]),W=(0,i.Z)(L,2),z=W[0],B=W[1],K=(0,a.useState)(""),Q=(0,i.Z)(K,2),U=Q[0],V=Q[1],X=(0,a.useState)(!1),$=(0,i.Z)(X,2),ee=$[0],se=$[1],ne=(0,a.useState)(""),le=(0,i.Z)(ne,2),ie=le[0],re=le[1],te=(0,a.useState)(""),ae=(0,i.Z)(te,2),oe=ae[0],de=ae[1],ce=(0,a.useState)({}),ue=(0,i.Z)(ce,2),ve=ue[0],me=ue[1];(0,a.useEffect)((function(){var e=localStorage.getItem("userId"),s=localStorage.getItem("chatdetail"),n=parseInt(e),l=JSON.parse(s);re(n),de(l)}),[]),console.log("gettingchatdataparsenew",oe);var he=function(){var e=(0,l.Z)(t().mark((function e(){var s,n,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),e.prev=1,n={userId:ie,chat:null===oe||void 0===oe?void 0:oe.request_chat_id,doctor:null===oe||void 0===oe||null===(s=oe.request)||void 0===s?void 0:s.doctors[0],doctor_question:R,response_type:"doctor"},e.next=5,d().post("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorpost",n);case 5:l=e.sent,console.log("Response from server:",l.data),V(l.data),A(""),se(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error making POST request:",e.t0.message),se(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=function(){var e=(0,l.Z)(t().mark((function e(){var s,n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorget?chatId=".concat(null===oe||void 0===oe?void 0:oe.request_chat_id,"&doctor=").concat(null===oe||void 0===oe||null===(s=oe.request)||void 0===s?void 0:s.doctors[0]));case 3:n=e.sent,console.log("Response from server:",n.data.data),B(n.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error making GET request:",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e();var s=setInterval((function(){e()}),2e3);return function(){return clearInterval(s)}}),[U,null===oe||void 0===oe||null===(e=oe.request)||void 0===e?void 0:e.doctors[0],null===oe||void 0===oe?void 0:oe.request_chat_id]),(0,a.useEffect)((function(){var e=localStorage.getItem("userviewticket");me(JSON.parse(e))}),[]),console.log("chatresponsedata",z),console.log("Newobjectdata",ve),(0,v.jsx)("div",{className:"col-md-12 background_chat_main",children:(0,v.jsx)("div",{className:"row px-3 py-4",children:(0,v.jsxs)("div",{className:"col-md-12 height_of_chat2",children:[(0,v.jsx)("div",{className:"col-md-12 background_chat_head",children:(0,v.jsx)("div",{className:"col-md-12 py-2",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-1 px-0",children:(0,v.jsx)("img",{className:"img-fluid rounded-circle  img_height_width",src:"/images/avatar.webp"})}),(0,v.jsxs)("div",{className:"col-md-9 pt-4 px-0",children:[" ",(0,v.jsxs)("p",{className:"m-0 p-0 name_person",children:[" ",null===oe||void 0===oe||null===(s=oe.request)||void 0===s||null===(n=s.request)||void 0===n||null===(r=n.mainuser)||void 0===r||null===(o=r.user)||void 0===o?void 0:o.name," "]})]})]})})}),(0,v.jsx)("div",{className:"col-md-12 background_chat_head mt-2",children:(0,v.jsx)("div",{className:"col-md-12 py-2",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Gender :"}),(0,v.jsx)("span",{children:!1===(null===ve||void 0===ve||null===(c=ve.request)||void 0===c?void 0:c.is_sub_user)?(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(m=ve.request)||void 0===m||null===(h=m.mainuser)||void 0===h?void 0:h.gender," "]}):(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(p=ve.request)||void 0===p||null===(x=p.user)||void 0===x?void 0:x.gender," "]})})]}),(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Date & Time :"}),(0,v.jsx)("span",{children:(0,v.jsx)(u(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===ve||void 0===ve?void 0:ve.created_date})})]}),(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Form Title :"}),(0,v.jsx)("span",{children:null===ve||void 0===ve||null===(g=ve.request)||void 0===g||null===(j=g.form)||void 0===j?void 0:j.title})]}),(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Height :"}),(0,v.jsx)("span",{children:!1===(null===ve||void 0===ve||null===(f=ve.request)||void 0===f?void 0:f.is_sub_user)?(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(_=ve.request)||void 0===_||null===(N=_.mainuser)||void 0===N?void 0:N.height," ",null===ve||void 0===ve||null===(w=ve.request)||void 0===w||null===(q=w.mainuser)||void 0===q?void 0:q.height_unit," "]}):(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(b=ve.request)||void 0===b||null===(y=b.user)||void 0===y?void 0:y.height," ",null===ve||void 0===ve||null===(k=ve.request)||void 0===k||null===(S=k.user)||void 0===S?void 0:S.height_unit," "]})})]}),(0,v.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Catagory :"}),(0,v.jsxs)("span",{children:[" ",null===ve||void 0===ve||null===(Z=ve.request)||void 0===Z||null===(I=Z.form)||void 0===I||null===(F=I.category)||void 0===F?void 0:F.title]})]}),(0,v.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Weight :"}),(0,v.jsx)("span",{children:!1===(null===ve||void 0===ve||null===(E=ve.request)||void 0===E?void 0:E.is_sub_user)?(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(C=ve.request)||void 0===C||null===(T=C.mainuser)||void 0===T?void 0:T.weight," ",null===ve||void 0===ve||null===(Y=ve.request)||void 0===Y||null===(D=Y.mainuser)||void 0===D?void 0:D.weight_unit]}):(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(H=ve.request)||void 0===H||null===(O=H.user)||void 0===O?void 0:O.weight," ",null===ve||void 0===ve||null===(P=ve.request)||void 0===P||null===(G=P.user)||void 0===G?void 0:G.weight_unit]})})]})]})})}),(0,v.jsx)("div",{className:"col-md-12 height_of_msg py-4 px-0",id:"style-3",children:null===z||void 0===z?void 0:z.map((function(e,s){return console.log("indexx12",e),(0,v.jsxs)(v.Fragment,{children:[(null===e||void 0===e?void 0:e.patient_answer)&&(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsx)("h6",{className:"mt-2 bg-white px-3 py-2 rounded-pill",children:e.patient_answer})}),(0,v.jsx)("div",{className:"col-md-6"})]}),(null===e||void 0===e?void 0:e.doctor_question)&&(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6"}),(0,v.jsx)("div",{className:"col-md-6 text-right",children:(0,v.jsx)("h6",{className:" mt-2 rounded-pill ",children:(0,v.jsx)("span",{className:"color_blue_text px-3 py-1 mt-3 rounded-pill",children:null===e||void 0===e?void 0:e.doctor_question})})})]})]})}))}),(0,v.jsxs)("div",{className:"col-md-12 bg-white py-2 input_bottom d-flex",children:[(0,v.jsx)("input",{className:"form-control new_place_holder w-100",value:R,onChange:function(e){return A(e.target.value)},placeholder:"Enter message here"}),(0,v.jsx)("button",{className:"btn btn-primary ml-2",onClick:he,children:!1===ee?(0,v.jsx)("i",{class:"fas fa-paper-plane"}):(0,v.jsx)("div",{className:"spinner-grow spinner-grow-sm",role:"status",children:(0,v.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})]})})})}},5861:function(e,s,n){function l(e,s,n,l,i,r,t){try{var a=e[r](t),o=a.value}catch(d){return void n(d)}a.done?s(o):Promise.resolve(o).then(l,i)}function i(e){return function(){var s=this,n=arguments;return new Promise((function(i,r){var t=e.apply(s,n);function a(e){l(t,i,r,a,o,"next",e)}function o(e){l(t,i,r,a,o,"throw",e)}a(void 0)}))}}n.d(s,{Z:function(){return i}})}}]);
//# sourceMappingURL=105.3e8fd134.chunk.js.map