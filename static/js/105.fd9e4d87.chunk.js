"use strict";(self.webpackChunkacadify_saas_frontend=self.webpackChunkacadify_saas_frontend||[]).push([[105],{5105:function(e,s,n){n.r(s),n.d(s,{default:function(){return h}});var l=n(5861),i=n(885),t=n(7757),r=n.n(t),a=n(2791),o=n(4569),d=n.n(o),c=n(6431),u=n.n(c),v=(n(3528),n(364)),m=n(184),h=function(){var e,s,n,t,o,c,h,p,x,g,j,f,_,N,w,b,q,y,S,k,Z,F,I,E,C,D,O,T,H,J,Q,Y,A,P=(0,a.useState)(""),R=(0,i.Z)(P,2),G=R[0],M=R[1],L=(0,a.useState)([]),W=(0,i.Z)(L,2),z=W[0],B=W[1],K=(0,a.useState)(!1),U=(0,i.Z)(K,2),V=U[0],X=U[1],$=(0,a.useState)(""),ee=(0,i.Z)($,2),se=ee[0],ne=ee[1],le=(0,a.useState)(!1),ie=(0,i.Z)(le,2),te=ie[0],re=ie[1],ae=(0,a.useState)(""),oe=(0,i.Z)(ae,2),de=oe[0],ce=oe[1],ue=(0,a.useState)(""),ve=(0,i.Z)(ue,2),me=ve[0],he=ve[1],pe=(0,a.useState)({}),xe=(0,i.Z)(pe,2),ge=xe[0],je=xe[1],fe=(0,a.useRef)(null),_e=(0,a.useState)([]),Ne=(0,i.Z)(_e,2),we=Ne[0],be=Ne[1],qe=(0,a.useState)([]),ye=(0,i.Z)(qe,2),Se=ye[0],ke=ye[1],Ze=(0,v.v9)((function(e){var s,n;return null===e||void 0===e||null===(s=e.Auth)||void 0===s||null===(n=s.user)||void 0===n?void 0:n.id}));(0,a.useEffect)((function(){var e=localStorage.getItem("userId"),s=localStorage.getItem("chatdetail"),n=parseInt(e),l=JSON.parse(s);ce(n),he(l)}),[]),(0,a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("chat_pictures_fr_chat")),s=JSON.parse(localStorage.getItem("Questions_fr_chat"));be(e),ke(s)}),[]),console.log("gettingchatdataparsenew",me),(0,a.useLayoutEffect)((function(){var e=fe.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}),[G,V]);var Fe=function(){var e=(0,l.Z)(r().mark((function e(){var s,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!0),e.prev=1,s={userId:de,chat:null===me||void 0===me?void 0:me.request_chat_id,doctor:Ze,doctor_question:G,response_type:"doctor"},e.next=5,d().post("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorpost",s);case 5:n=e.sent,console.log("Response from server:",n.data),ne(n.data),M(""),re(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error making POST request:",e.t0.message),re(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=function(){var e=(0,l.Z)(r().mark((function e(){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorget?chatId=".concat(null===me||void 0===me?void 0:me.request_chat_id,"&doctor=").concat(Ze));case 3:s=e.sent,console.log("Response from server:",s.data.data),B(s.data.data),X(!V),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error making GET request:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var s=setInterval((function(){e()}),2e3);return function(){return clearInterval(s)}}),[se,null===me||void 0===me||null===(e=me.request)||void 0===e?void 0:e.doctors[0],null===me||void 0===me?void 0:me.request_chat_id,Ze]),(0,a.useEffect)((function(){var e=localStorage.getItem("userviewticket");je(JSON.parse(e))}),[]),console.log("chatresponsedata",z),console.log("Newobjectdata",ge),(0,m.jsx)("div",{className:"col-md-12 background_chat_main",children:(0,m.jsx)("div",{className:"row px-3 py-4",children:(0,m.jsxs)("div",{className:"col-md-12 height_of_chat2",children:[(0,m.jsx)("div",{className:"col-md-12 background_chat_head",children:(0,m.jsx)("div",{className:"col-md-12 py-2",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-1 px-0",children:(0,m.jsx)("img",{className:"img-fluid rounded-circle  img_height_width",src:"/images/avatar.webp"})}),(0,m.jsxs)("div",{className:"col-md-2 pt-4 px-0",children:[" ",(0,m.jsxs)("p",{className:"m-0 p-0 name_person",children:[" ",null===me||void 0===me||null===(s=me.request)||void 0===s||null===(n=s.request)||void 0===n||null===(t=n.mainuser)||void 0===t||null===(o=t.user)||void 0===o?void 0:o.name," "]})]}),(0,m.jsx)("div",{className:"col-md-9 m-auto",children:null===we||void 0===we?void 0:we.map((function(e,s){return console.log("item",we),(0,m.jsx)("a",{href:"".concat(e),target:"_blank",className:"text_dec_none",children:(0,m.jsx)("img",{className:"img-fluid height_of_chat_pic",src:"".concat(e)})})}))})]})})}),(0,m.jsx)("div",{className:"col-md-12 background_chat_head mt-2",children:(0,m.jsx)("div",{className:"col-md-12 py-2",children:(0,m.jsxs)("div",{className:"row",children:[(0,m.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,m.jsx)("p",{className:"m-0 p-0 name_person",children:"Gender :"}),(0,m.jsx)("span",{children:!1===(null===ge||void 0===ge||null===(c=ge.request)||void 0===c?void 0:c.is_sub_user)?(0,m.jsxs)(m.Fragment,{children:[null===ge||void 0===ge||null===(h=ge.request)||void 0===h||null===(p=h.mainuser)||void 0===p?void 0:p.gender," "]}):(0,m.jsxs)(m.Fragment,{children:[null===ge||void 0===ge||null===(x=ge.request)||void 0===x||null===(g=x.user)||void 0===g?void 0:g.gender," "]})})]}),(0,m.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,m.jsx)("p",{className:"m-0 p-0 name_person",children:"Date & Time :"}),(0,m.jsx)("span",{children:(0,m.jsx)(u(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===ge||void 0===ge?void 0:ge.created_date})})]}),(0,m.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,m.jsx)("p",{className:"m-0 p-0 name_person",children:"Form Title :"}),(0,m.jsx)("span",{children:null===ge||void 0===ge||null===(j=ge.request)||void 0===j||null===(f=j.form)||void 0===f?void 0:f.title})]}),(0,m.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,m.jsx)("p",{className:"m-0 p-0 name_person",children:"Height :"}),(0,m.jsx)("span",{children:!1===(null===ge||void 0===ge||null===(_=ge.request)||void 0===_?void 0:_.is_sub_user)?(0,m.jsxs)(m.Fragment,{children:[null===ge||void 0===ge||null===(N=ge.request)||void 0===N||null===(w=N.mainuser)||void 0===w?void 0:w.height," ",null===ge||void 0===ge||null===(b=ge.request)||void 0===b||null===(q=b.mainuser)||void 0===q?void 0:q.height_unit," "]}):(0,m.jsxs)(m.Fragment,{children:[null===ge||void 0===ge||null===(y=ge.request)||void 0===y||null===(S=y.user)||void 0===S?void 0:S.height," ",null===ge||void 0===ge||null===(k=ge.request)||void 0===k||null===(Z=k.user)||void 0===Z?void 0:Z.height_unit," "]})})]}),(0,m.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,m.jsx)("p",{className:"m-0 p-0 name_person",children:"Catagory :"}),(0,m.jsxs)("span",{children:[" ",null===ge||void 0===ge||null===(F=ge.request)||void 0===F||null===(I=F.form)||void 0===I||null===(E=I.category)||void 0===E?void 0:E.title]})]}),(0,m.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,m.jsx)("p",{className:"m-0 p-0 name_person",children:"Weight :"}),(0,m.jsx)("span",{children:!1===(null===ge||void 0===ge||null===(C=ge.request)||void 0===C?void 0:C.is_sub_user)?(0,m.jsxs)(m.Fragment,{children:[null===ge||void 0===ge||null===(D=ge.request)||void 0===D||null===(O=D.mainuser)||void 0===O?void 0:O.weight," ",null===ge||void 0===ge||null===(T=ge.request)||void 0===T||null===(H=T.mainuser)||void 0===H?void 0:H.weight_unit]}):(0,m.jsxs)(m.Fragment,{children:[null===ge||void 0===ge||null===(J=ge.request)||void 0===J||null===(Q=J.user)||void 0===Q?void 0:Q.weight," ",null===ge||void 0===ge||null===(Y=ge.request)||void 0===Y||null===(A=Y.user)||void 0===A?void 0:A.weight_unit]})})]})]})})}),(0,m.jsxs)("div",{className:"col-md-12 height_of_msg py-4 px-2",id:"style-3",ref:fe,children:[(0,m.jsx)("div",{className:"row",children:null===Se||void 0===Se?void 0:Se.map((function(e,s){var n;return(0,m.jsxs)(m.Fragment,{children:["Document"!==(null===e||void 0===e?void 0:e.typeQ)?(0,m.jsxs)(a.Fragment,{children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("h6",{className:"mt-3 bg-white px-3 py-2 mb-1 rounded-pill",children:[(0,m.jsx)("b",{children:"Question: "}),null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.question]})}),(0,m.jsx)("div",{className:"col-md-6"})]},s):null,"Document"===(null===e||void 0===e?void 0:e.typeQ)?(0,m.jsx)(m.Fragment,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsxs)("h6",{className:"mt-3 bg-white px-3 py-2 mb-1 rounded-pill",children:[(0,m.jsx)("b",{children:"Answer: "}),null===e||void 0===e?void 0:e.answer]})}),(0,m.jsx)("div",{className:"col-md-6"})]})]})}))}),null===z||void 0===z?void 0:z.map((function(e,s){return console.log("indexx12",e),(0,m.jsxs)(m.Fragment,{children:[(null===e||void 0===e?void 0:e.patient_answer)&&(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6",children:(0,m.jsx)("h6",{className:"mt-2 bg-white px-3 py-2 rounded-pill",children:e.patient_answer})}),(0,m.jsx)("div",{className:"col-md-6"})]}),(null===e||void 0===e?void 0:e.doctor_question)&&(0,m.jsxs)("div",{className:"row",children:[(0,m.jsx)("div",{className:"col-md-6"}),(0,m.jsx)("div",{className:"col-md-6 text-right",children:(0,m.jsx)("h6",{className:" mt-2 rounded-pill ",children:(0,m.jsx)("span",{className:"color_blue_text px-3 py-1 mt-3 rounded-pill",children:null===e||void 0===e?void 0:e.doctor_question})})})]})]})}))]}),(0,m.jsxs)("div",{className:"col-md-12 bg-white py-2 input_bottom d-flex",children:[(0,m.jsx)("input",{className:"form-control new_place_holder w-100",value:G,onChange:function(e){return M(e.target.value)},placeholder:"Enter message here"}),(0,m.jsx)("button",{className:"btn btn-primary ml-2",onClick:Fe,children:!1===te?(0,m.jsx)("i",{class:"fas fa-paper-plane"}):(0,m.jsx)("div",{className:"spinner-border spinner-border-sm text-white",role:"status"})})]})]})})})}},5861:function(e,s,n){function l(e,s,n,l,i,t,r){try{var a=e[t](r),o=a.value}catch(d){return void n(d)}a.done?s(o):Promise.resolve(o).then(l,i)}function i(e){return function(){var s=this,n=arguments;return new Promise((function(i,t){var r=e.apply(s,n);function a(e){l(r,i,t,a,o,"next",e)}function o(e){l(r,i,t,a,o,"throw",e)}a(void 0)}))}}n.d(s,{Z:function(){return i}})}}]);
//# sourceMappingURL=105.fd9e4d87.chunk.js.map