"use strict";(self.webpackChunkacadify_saas_frontend=self.webpackChunkacadify_saas_frontend||[]).push([[105],{5105:function(e,s,l){l.r(s),l.d(s,{default:function(){return x}});var n=l(5861),i=l(885),t=l(7757),a=l.n(t),r=l(2791),o=l(4569),d=l.n(o),c=l(6431),u=l.n(c),m=(l(3528),l(364)),v=l(4373),h=l(6856),p=l(184),x=function(){var e,s,l,t,o,c,x,j,g,_,f,N,b,w,q,y,S,k,F,Z,I,E,D,O,C,T,H,J,Q,Y,A,R,G,M=(0,r.useState)(""),U=(0,i.Z)(M,2),K=U[0],L=U[1],P=(0,r.useState)([]),W=(0,i.Z)(P,2),z=W[0],B=W[1],V=(0,r.useState)(!1),X=(0,i.Z)(V,2),$=X[0],ee=X[1],se=(0,r.useState)(""),le=(0,i.Z)(se,2),ne=le[0],ie=le[1],te=(0,r.useState)(!1),ae=(0,i.Z)(te,2),re=ae[0],oe=ae[1],de=(0,r.useState)(""),ce=(0,i.Z)(de,2),ue=ce[0],me=ce[1],ve=(0,r.useState)(""),he=(0,i.Z)(ve,2),pe=he[0],xe=he[1],je=(0,r.useState)({}),ge=(0,i.Z)(je,2),_e=ge[0],fe=ge[1],Ne=(0,r.useRef)(null),be=(0,r.useState)([]),we=(0,i.Z)(be,2),qe=we[0],ye=we[1],Se=(0,r.useState)([]),ke=(0,i.Z)(Se,2),Fe=ke[0],Ze=ke[1],Ie=(0,m.v9)((function(e){var s,l;return null===e||void 0===e||null===(s=e.Auth)||void 0===s||null===(l=s.user)||void 0===l?void 0:l.id}));(0,r.useEffect)((function(){var e=localStorage.getItem("userId"),s=localStorage.getItem("chatdetail"),l=parseInt(e),n=JSON.parse(s);me(l),xe(n)}),[]),(0,r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("chat_pictures_fr_chat")),s=JSON.parse(localStorage.getItem("Questions_fr_chat"));ye(e),Ze(s)}),[]),console.log("gettingchatdataparsenew",pe),(0,r.useLayoutEffect)((function(){var e=Ne.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}),[K,$]);var Ee=function(){var e=(0,n.Z)(a().mark((function e(){var s,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oe(!0),e.prev=1,s={userId:ue,chat:null===pe||void 0===pe?void 0:pe.request_chat_id,doctor:Ie,doctor_question:K,response_type:"doctor"},e.next=5,d().post("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorpost",s);case 5:l=e.sent,console.log("Response from server:",l.data),ie(l.data),L(""),oe(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error making POST request:",e.t0.message),oe(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){var e=function(){var e=(0,n.Z)(a().mark((function e(){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorget?chatId=".concat(null===pe||void 0===pe?void 0:pe.request_chat_id,"&doctor=").concat(Ie));case 3:s=e.sent,console.log("Response from server:",s.data.data),B(s.data.data),ee(!$),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error making GET request:",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e();var s=setInterval((function(){e()}),2e3);return function(){return clearInterval(s)}}),[ne,null===pe||void 0===pe||null===(e=pe.request)||void 0===e?void 0:e.doctors[0],null===pe||void 0===pe?void 0:pe.request_chat_id,Ie]),(0,r.useEffect)((function(){var e=localStorage.getItem("userviewticket");fe(JSON.parse(e))}),[]),console.log("chatresponsedata",z),console.log("Newobjectdata",_e);return(0,p.jsx)("div",{className:"col-md-12 background_chat_main ",children:(0,p.jsx)("div",{className:"row px-3 py-4",children:(0,p.jsxs)("div",{className:"col-md-12 height_of_chat2",children:[(0,p.jsx)("div",{className:"col-md-12 background_chat_head",children:(0,p.jsx)("div",{className:"col-md-12 py-2",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-1 px-0",children:(0,p.jsx)("img",{className:"img-fluid rounded-circle  img_height_width",src:"/images/avatar.webp"})}),(0,p.jsxs)("div",{className:"col-md-2 pt-4 px-0",children:[" ",(0,p.jsxs)("p",{className:"m-0 p-0 name_person",children:[" ",null===pe||void 0===pe||null===(s=pe.request)||void 0===s||null===(l=s.request)||void 0===l||null===(t=l.mainuser)||void 0===t||null===(o=t.user)||void 0===o?void 0:o.name," "]})]}),(0,p.jsx)("div",{className:"col-md-9 m-auto",children:null===qe||void 0===qe?void 0:qe.map((function(e,s){return console.log("item",qe),(0,p.jsx)("a",{href:"".concat(e),target:"_blank",className:"text_dec_none",children:(0,p.jsx)("img",{className:"img-fluid height_of_chat_pic",src:"".concat(e)})})}))})]})})}),(0,p.jsx)("div",{className:"col-md-12 background_chat_head mt-2",children:(0,p.jsx)("div",{className:"col-md-12 py-2",children:(0,p.jsxs)("div",{className:"row",children:[(0,p.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,p.jsx)("p",{className:"m-0 p-0 name_person",children:"Gender :"}),(0,p.jsx)("span",{children:!1===(null===_e||void 0===_e||null===(c=_e.request)||void 0===c?void 0:c.is_sub_user)?(0,p.jsxs)(p.Fragment,{children:[null===_e||void 0===_e||null===(x=_e.request)||void 0===x||null===(j=x.mainuser)||void 0===j?void 0:j.gender," "]}):(0,p.jsxs)(p.Fragment,{children:[null===_e||void 0===_e||null===(g=_e.request)||void 0===g||null===(_=g.user)||void 0===_?void 0:_.gender," "]})})]}),(0,p.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,p.jsx)("p",{className:"m-0 p-0 name_person",children:"Date & Time :"}),(0,p.jsx)("span",{children:(0,p.jsx)(u(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===_e||void 0===_e?void 0:_e.created_date})})]}),(0,p.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,p.jsx)("p",{className:"m-0 p-0 name_person",children:"Form Title :"}),(0,p.jsx)("span",{children:null===_e||void 0===_e||null===(f=_e.request)||void 0===f||null===(N=f.form)||void 0===N?void 0:N.title})]}),(0,p.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,p.jsx)("p",{className:"m-0 p-0 name_person",children:"Height :"}),(0,p.jsx)("span",{children:!1===(null===_e||void 0===_e||null===(b=_e.request)||void 0===b?void 0:b.is_sub_user)?(0,p.jsxs)(p.Fragment,{children:[null===_e||void 0===_e||null===(w=_e.request)||void 0===w||null===(q=w.mainuser)||void 0===q?void 0:q.height," ",null===_e||void 0===_e||null===(y=_e.request)||void 0===y||null===(S=y.mainuser)||void 0===S?void 0:S.height_unit," "]}):(0,p.jsxs)(p.Fragment,{children:[null===_e||void 0===_e||null===(k=_e.request)||void 0===k||null===(F=k.user)||void 0===F?void 0:F.height," ",null===_e||void 0===_e||null===(Z=_e.request)||void 0===Z||null===(I=Z.user)||void 0===I?void 0:I.height_unit," "]})})]}),(0,p.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,p.jsx)("p",{className:"m-0 p-0 name_person",children:"Catagory :"}),(0,p.jsxs)("span",{children:[" ",null===_e||void 0===_e||null===(E=_e.request)||void 0===E||null===(D=E.form)||void 0===D||null===(O=D.category)||void 0===O?void 0:O.title]})]}),(0,p.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,p.jsx)("p",{className:"m-0 p-0 name_person",children:"Weight :"}),(0,p.jsx)("span",{children:!1===(null===_e||void 0===_e||null===(C=_e.request)||void 0===C?void 0:C.is_sub_user)?(0,p.jsxs)(p.Fragment,{children:[null===_e||void 0===_e||null===(T=_e.request)||void 0===T||null===(H=T.mainuser)||void 0===H?void 0:H.weight," ",null===_e||void 0===_e||null===(J=_e.request)||void 0===J||null===(Q=J.mainuser)||void 0===Q?void 0:Q.weight_unit]}):(0,p.jsxs)(p.Fragment,{children:[null===_e||void 0===_e||null===(Y=_e.request)||void 0===Y||null===(A=Y.user)||void 0===A?void 0:A.weight," ",null===_e||void 0===_e||null===(R=_e.request)||void 0===R||null===(G=R.user)||void 0===G?void 0:G.weight_unit]})})]})]})})}),(0,p.jsxs)("div",{className:"col-md-12 height_of_msg py-4 px-2",id:"style-3",ref:Ne,children:[(0,p.jsx)("div",{className:"row",children:null===Fe||void 0===Fe?void 0:Fe.map((function(e,s){var l;return(0,p.jsxs)(p.Fragment,{children:["Document"!==(null===e||void 0===e?void 0:e.typeQ)?(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsx)("div",{className:"col-md-12 color_blue_text1",children:(0,p.jsxs)("h6",{className:"mt-3  px-3 py-2 mb-1",children:[(0,p.jsx)("b",{children:"Question: "}),null===e||void 0===e||null===(l=e.question)||void 0===l?void 0:l.question]})})}),(0,p.jsx)("div",{className:"col-md-6"})]},s):null,"Document"===(null===e||void 0===e?void 0:e.typeQ)?(0,p.jsx)(p.Fragment,{}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsx)("div",{className:"col-md-12 color_blue_text1",children:(0,p.jsxs)("h6",{className:"mt-3 px-3 py-2 mb-1 ",children:[(0,p.jsx)("b",{children:"Answer: "}),null===e||void 0===e?void 0:e.answer]})})}),(0,p.jsx)("div",{className:"col-md-6"})]})]})}))}),null===z||void 0===z?void 0:z.map((function(e,s){return console.log("indexx12",e),(0,p.jsxs)(p.Fragment,{children:[(null===e||void 0===e?void 0:e.patient_answer)&&(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsx)("div",{className:"col-md-12 color_blue_text1 mt-2",children:(0,p.jsx)("h6",{className:"mt-2  px-3 py-2 ",children:e.patient_answer})})}),(0,p.jsx)("div",{className:"col-md-6"})]}),(null===e||void 0===e?void 0:e.doctor_question)&&null===(null===e||void 0===e?void 0:e.patient_answer)&&(0,p.jsxs)("div",{className:"row",children:[(0,p.jsx)("div",{className:"col-md-6"}),(0,p.jsx)("div",{className:"col-md-6  ",children:(0,p.jsx)("div",{className:"col-md-12 color_blue_text py-1 mt-2",children:(0,p.jsx)("h6",{className:" mt-2 rounded-pill ",children:(0,p.jsx)("span",{className:" px-3 py-1 mt-3 ",children:null===e||void 0===e?void 0:e.doctor_question})})})})]})]})}))]}),(0,p.jsxs)("div",{className:"col-md-12 bg-white py-2 input_bottom d-flex",children:[(0,p.jsx)("input",{className:"form-control new_place_holder w-100",onKeyDown:0!=K.length&&function(e){"Enter"===e.key&&Ee()},value:K,onChange:function(e){return L(e.target.value)},placeholder:"Enter message here"}),0===K.length?(0,p.jsx)("button",{className:"btn btn-primary ml-2",disabled:!0,children:!1===re?(0,p.jsx)(h.UFf,{}):(0,p.jsx)("div",{className:"spinner-border spinner-border-sm text-white",role:"status"})}):(0,p.jsx)("button",{className:"btn btn-primary ml-2",onClick:Ee,children:!1===re?(0,p.jsx)(v.OUD,{}):(0,p.jsx)("div",{className:"spinner-border spinner-border-sm text-white",role:"status"})})]})]})})})}}}]);
//# sourceMappingURL=105.910f1864.chunk.js.map