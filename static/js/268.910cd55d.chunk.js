"use strict";(self.webpackChunkacadify_saas_frontend=self.webpackChunkacadify_saas_frontend||[]).push([[268],{1268:function(e,l,s){s.r(l),s.d(l,{default:function(){return h}});var n=s(2791),i=(s(3684),s(885)),t=s(364),d=s(1523),a=s(9271),c=s(2806),r=s(6431),o=s.n(r),u=(s(3528),s(184));var m=function(){var e=(0,t.I0)(),l=((0,a.useHistory)(),(0,n.useState)(1)),s=(0,i.Z)(l,2),r=s[0],m=s[1],h=(0,n.useState)(""),v=(0,i.Z)(h,2),x=v[0],j=v[1],p=(0,n.useState)(""),b=(0,i.Z)(p,2),N=(b[0],b[1]),g=(0,n.useState)(""),f=(0,i.Z)(g,2),k=f[0],_=f[1],y=(0,n.useState)(""),C=(0,i.Z)(y,2),q=C[0],A=C[1];console.log("RequestId",k);var T=function(){m(2)},w=function(){m(1)},Y=function(){m(3)},F=(0,t.v9)((function(e){var l,s;return null===(l=e.Auth)||void 0===l||null===(s=l.getallnewtickets)||void 0===s?void 0:s.count})),M=(0,t.v9)((function(e){var l,s;return null===(l=e.Auth)||void 0===l||null===(s=l.getallnewtickets)||void 0===s?void 0:s.previous})),S=(0,t.v9)((function(e){var l,s;return null===(l=e.Auth)||void 0===l||null===(s=l.getallnewtickets)||void 0===s?void 0:s.next})),D=(0,t.v9)((function(e){var l,s;return null===(l=e.Auth)||void 0===l||null===(s=l.getallnewtickets)||void 0===s?void 0:s.results})),I=(0,t.v9)((function(e){var l;return null===(l=e.Auth)||void 0===l?void 0:l.getallpendingtickets})),R=(0,t.v9)((function(e){var l;return null===(l=e.Auth)||void 0===l?void 0:l.getallcompletedtickets}));return(0,n.useEffect)((function(){e((0,c.m3)("/doctor-portal/api/tickets/")),e((0,c.SV)()),e((0,c.Dv)()),j(S),N(M)}),[]),(0,u.jsx)(u.Fragment,{children:1===r?(0,u.jsxs)("div",{className:"col-md-12 px-0",children:[(0,u.jsxs)("div",{className:"row pt-2 mb-3",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsxs)("span",{className:"active_tab",onClick:w,children:["Open Tickets\xa0\xa0",(0,u.jsx)("span",{className:"btn btn-sm btn-danger px-3",children:(0,u.jsx)("b",{children:F})})]}),"\xa0\xa0\xa0",(0,u.jsx)("span",{className:"non_active_tab",onClick:T,children:"In-Progress Tickets"}),"\xa0\xa0\xa0",(0,u.jsx)("span",{className:"non_active_tab",onClick:Y,children:"Completed Tickets"})]}),(0,u.jsx)("div",{className:"col-md-6 text-right"})]}),(0,u.jsx)("div",{className:"col-md-12 mt-2 px-0 height_fix_list",children:(0,u.jsxs)("table",{className:"table table-bordered text-center",children:[(0,u.jsx)("thead",{className:"thead-light",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"Only Initials"}),(0,u.jsx)("th",{scope:"col",children:"Urgency"}),(0,u.jsx)("th",{scope:"col",children:"Time Remaining"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsxs)("tbody",{children:[0===(null===D||void 0===D?void 0:D.length)?(0,u.jsx)("tr",{className:"text-center",children:(0,u.jsx)("td",{colSpan:4,children:"No Record Avaliable"})}):(0,u.jsxs)(u.Fragment,{children:[null===D||void 0===D?void 0:D.map((function(l,s){var n,i,t,a,r,m,h,v,x;return console.log("<><><><><><<><><???????????????",l.request.id),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"pt-4",children:!1===(null===l||void 0===l||null===(n=l.request)||void 0===n?void 0:n.is_sub_user)?(0,u.jsx)(u.Fragment,{children:null===l||void 0===l||null===(i=l.request)||void 0===i||null===(t=i.mainuser)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.name}):(0,u.jsx)(u.Fragment,{children:null===l||void 0===l||null===(r=l.request)||void 0===r||null===(m=r.user)||void 0===m?void 0:m.name})}),(0,u.jsx)("td",{className:"pt-4",children:null===l||void 0===l||null===(h=l.request)||void 0===h||null===(v=h.form)||void 0===v||null===(x=v.category)||void 0===x?void 0:x.title}),(0,u.jsx)("td",{className:"pt-4",children:(0,u.jsx)(o(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===l||void 0===l?void 0:l.created_date})}),(0,u.jsxs)("td",{children:[(0,u.jsx)(d.rU,{to:"/Userdetail/".concat(l.id,"?accepted=1"),children:(0,u.jsx)("button",{className:"btn btn-primary btn-sm rounded-pill px-4 ",children:"Preview"})})," \xa0",(0,u.jsx)("button",{onClick:function(){return s=l.id,void e((0,c.VB)({id:s}));var s},className:"btn btn-success btn-sm rounded-pill px-4 background_accept",children:"Accept"}),"\xa0",(0,u.jsx)("button",{onClick:function(e){e.preventDefault(),_(null===l||void 0===l?void 0:l.id)},className:"btn btn-danger btn-sm rounded-pill px-4 ","data-toggle":"modal","data-target":"#exampleModal",children:"Decline"})]})]})})),(0,u.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,u.jsx)("div",{className:"modal-dialog modal-dialog-centered",role:"document",children:(0,u.jsxs)("div",{className:"modal-content",children:[(0,u.jsxs)("div",{className:"modal-header",children:[(0,u.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Reason For Declining The Request"}),(0,u.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,u.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,u.jsx)("div",{className:"modal-body",children:(0,u.jsx)("textarea",{className:"form-control",placeholder:"Write reason here",value:q,onChange:function(e){var l=e.target.value;A(l)}})}),(0,u.jsxs)("div",{className:"modal-footer",children:[(0,u.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,u.jsx)("button",{onClick:function(l){e((0,c.Js)({request:k,reason:q}))},type:"button",className:"btn btn-primary","data-dismiss":"modal",children:"Submit"})]})]})})})]}),(0,u.jsxs)("td",{colSpan:5,children:[null===M?(0,u.jsx)("span",{className:"btn btn-outline-light btn-sm",id:"stopped",children:"Previous"}):(0,u.jsx)("span",{onClick:function(){e((0,c.m3)(M))},className:"btn btn-outline-primary btn-sm",children:"Previous"}),"\xa0\xa0",null===S?(0,u.jsx)("span",{className:"btn btn-outline-light btn-sm px-4",id:"stopped",children:"Next"}):(0,u.jsx)("span",{onClick:function(){e((0,c.m3)(x))},className:"btn btn-outline-primary btn-sm px-4",children:"Next"})]})]})]})})]}):2===r?(0,u.jsxs)("div",{className:"col-md-12 px-0",children:[(0,u.jsxs)("div",{className:"row pt-2 mb-3",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("span",{className:"non_active_tab ",onClick:w,children:"Open Tickets"}),"\xa0\xa0\xa0",(0,u.jsxs)("span",{className:"active_tab",onClick:T,children:["In-Progress Tickets\xa0\xa0",(0,u.jsx)("span",{className:"btn btn-sm btn-danger px-3",children:(0,u.jsx)("b",{children:null===I||void 0===I?void 0:I.length})})]}),"\xa0\xa0\xa0",(0,u.jsx)("span",{className:"non_active_tab",onClick:Y,children:"Completed Tickets"})]}),(0,u.jsx)("div",{className:"col-md-6 text-right"})]}),(0,u.jsx)("div",{className:"col-md-12 mt-2 px-0 height_fix_list",children:(0,u.jsxs)("table",{className:"table table-bordered text-center",children:[(0,u.jsx)("thead",{className:"thead-light",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"Only Initials"}),(0,u.jsx)("th",{scope:"col",children:"Urgency"}),(0,u.jsx)("th",{scope:"col",children:"Time Remaining"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:0===(null===I||void 0===I?void 0:I.length)?(0,u.jsx)("tr",{className:"text-center",children:(0,u.jsx)("td",{colSpan:5,children:"No Record Avaliable"})}):(0,u.jsx)(u.Fragment,{children:null===I||void 0===I?void 0:I.map((function(e,l){var s,n,i,t,a,c,r,m,h,v,x;return console.log("map>>>>>>>>>>>>>>>>>>",null===e||void 0===e||null===(s=e.request)||void 0===s||null===(n=s.form)||void 0===n?void 0:n.category),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"pt-4",children:!1===(null===e||void 0===e||null===(i=e.request)||void 0===i?void 0:i.is_sub_user)?(0,u.jsx)(u.Fragment,{children:null===e||void 0===e||null===(t=e.request)||void 0===t||null===(a=t.mainuser)||void 0===a||null===(c=a.user)||void 0===c?void 0:c.name}):(0,u.jsx)(u.Fragment,{children:null===e||void 0===e||null===(r=e.request)||void 0===r||null===(m=r.user)||void 0===m?void 0:m.name})}),(0,u.jsx)("td",{className:"pt-4",children:null===e||void 0===e||null===(h=e.request)||void 0===h||null===(v=h.form)||void 0===v||null===(x=v.category)||void 0===x?void 0:x.title}),(0,u.jsx)("td",{className:"pt-4",children:(0,u.jsx)(o(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===e||void 0===e?void 0:e.created_date})}),(0,u.jsx)("td",{className:"pt-4",children:(0,u.jsx)(d.rU,{to:"/Userdetail/".concat(e.id,"?accepted=0"),children:(0,u.jsxs)("button",{className:"btn btn-primary btn-sm rounded-pill px-4 ",children:[" ","Preview"]})})})]})}))})})]})})]}):3===r?(0,u.jsxs)("div",{className:"col-md-12 px-0",children:[(0,u.jsxs)("div",{className:"row pt-2 mb-3",children:[(0,u.jsxs)("div",{className:"col-md-6",children:[(0,u.jsx)("span",{className:"non_active_tab ",onClick:w,children:"Open Tickets"}),"\xa0\xa0\xa0",(0,u.jsx)("span",{className:"non_active_tab",onClick:T,children:"In-Progress Tickets"}),"\xa0\xa0\xa0",(0,u.jsxs)("span",{className:"active_tab",onClick:Y,children:["Completed Tickets\xa0\xa0",(0,u.jsx)("span",{className:"btn btn-sm btn-danger px-3",children:(0,u.jsx)("b",{children:null===R||void 0===R?void 0:R.length})})]})]}),(0,u.jsx)("div",{className:"col-md-6 text-right"})]}),(0,u.jsx)("div",{className:"col-md-12 mt-2 px-0 height_fix_list",children:(0,u.jsxs)("table",{className:"table table-bordered",children:[(0,u.jsx)("thead",{className:"thead-light",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",children:"Only Initials"}),(0,u.jsx)("th",{scope:"col",children:"Urgency"}),(0,u.jsx)("th",{scope:"col",children:"Time Remaining"}),(0,u.jsx)("th",{scope:"col",children:"Action"})]})}),(0,u.jsx)("tbody",{children:0===(null===R||void 0===R?void 0:R.length)?(0,u.jsx)("tr",{className:"text-center",children:(0,u.jsx)("td",{colSpan:5,children:"No Record Avaliable"})}):(0,u.jsx)(u.Fragment,{children:null===R||void 0===R?void 0:R.map((function(e,l){var s,n,i,t,a,c,r,m,h;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"pt-4",children:!1===(null===e||void 0===e||null===(s=e.request)||void 0===s?void 0:s.is_sub_user)?(0,u.jsx)(u.Fragment,{children:null===e||void 0===e||null===(n=e.request)||void 0===n||null===(i=n.mainuser)||void 0===i||null===(t=i.user)||void 0===t?void 0:t.name}):(0,u.jsx)(u.Fragment,{children:null===e||void 0===e||null===(a=e.request)||void 0===a||null===(c=a.user)||void 0===c?void 0:c.name})}),(0,u.jsx)("td",{className:"pt-4",children:null===e||void 0===e||null===(r=e.request)||void 0===r||null===(m=r.form)||void 0===m||null===(h=m.category)||void 0===h?void 0:h.title}),(0,u.jsx)("td",{className:"pt-4",children:(0,u.jsx)(o(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===e||void 0===e?void 0:e.created_date})}),(0,u.jsx)("td",{children:(0,u.jsx)(d.rU,{to:"/Userdetail/".concat(e.id,"?accepted=0"),children:(0,u.jsxs)("button",{className:"btn btn-primary btn-sm rounded-pill px-4 ",children:[" ","Preview"]})})})]})}))})})]})})]}):null})};var h=function(){return(0,u.jsx)("div",{className:"col-md-12 mt-3 ",children:(0,u.jsxs)("div",{className:"col-md-12 background_color_white1 py-3 ",id:"style-1",children:[(0,u.jsx)("h5",{children:(0,u.jsx)("b",{children:"Tickets Module"})}),(0,u.jsx)(m,{})]})})}},3684:function(){}}]);
//# sourceMappingURL=268.910cd55d.chunk.js.map