"use strict";(self.webpackChunkacadify_saas_frontend=self.webpackChunkacadify_saas_frontend||[]).push([[105],{5105:function(e,s,n){n.r(s),n.d(s,{default:function(){return m}});var l=n(5861),i=n(885),t=n(7757),r=n.n(t),o=n(2791),a=n(4569),d=n.n(a),c=n(6431),u=n.n(c),v=(n(3528),n(184)),m=function(){var e,s,n,t,a,c,m,h,p,x,g,f,j,_,N,w,q,b,y,S,k,Z,F,I,E,C,D,O,Q,T,H,J,Y,A=(0,o.useState)(""),P=(0,i.Z)(A,2),R=P[0],G=P[1],L=(0,o.useState)([]),M=(0,i.Z)(L,2),W=M[0],z=M[1],B=(0,o.useState)(""),K=(0,i.Z)(B,2),U=K[0],V=K[1],X=(0,o.useState)(!1),$=(0,i.Z)(X,2),ee=$[0],se=$[1],ne=(0,o.useState)(""),le=(0,i.Z)(ne,2),ie=le[0],te=le[1],re=(0,o.useState)(""),oe=(0,i.Z)(re,2),ae=oe[0],de=oe[1],ce=(0,o.useState)({}),ue=(0,i.Z)(ce,2),ve=ue[0],me=ue[1],he=(0,o.useRef)(null),pe=(0,o.useState)([]),xe=(0,i.Z)(pe,2),ge=xe[0],fe=xe[1],je=(0,o.useState)([]),_e=(0,i.Z)(je,2),Ne=_e[0],we=_e[1];(0,o.useEffect)((function(){var e=localStorage.getItem("userId"),s=localStorage.getItem("chatdetail"),n=parseInt(e),l=JSON.parse(s);te(n),de(l)}),[]),(0,o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("chat_pictures_fr_chat")),s=JSON.parse(localStorage.getItem("Questions_fr_chat"));fe(e),we(s)}),[]),console.log("gettingchatdataparsenew",ae),(0,o.useLayoutEffect)((function(){var e=he.current;e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}),[R]);var qe=function(){var e=(0,l.Z)(r().mark((function e(){var s,n,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),e.prev=1,n={userId:ie,chat:null===ae||void 0===ae?void 0:ae.request_chat_id,doctor:null===ae||void 0===ae||null===(s=ae.request)||void 0===s?void 0:s.doctors[0],doctor_question:R,response_type:"doctor"},e.next=5,d().post("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorpost",n);case 5:l=e.sent,console.log("Response from server:",l.data),V(l.data),G(""),se(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("Error making POST request:",e.t0.message),se(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=function(){var e=(0,l.Z)(r().mark((function e(){var s,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("https://api.backend.h3lth.net/doctor-chat/api/thread/doctorget?chatId=".concat(null===ae||void 0===ae?void 0:ae.request_chat_id,"&doctor=").concat(null===ae||void 0===ae||null===(s=ae.request)||void 0===s?void 0:s.doctors[0]));case 3:n=e.sent,console.log("Response from server:",n.data.data),z(n.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error making GET request:",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e();var s=setInterval((function(){e()}),2e3);return function(){return clearInterval(s)}}),[U,null===ae||void 0===ae||null===(e=ae.request)||void 0===e?void 0:e.doctors[0],null===ae||void 0===ae?void 0:ae.request_chat_id]),(0,o.useEffect)((function(){var e=localStorage.getItem("userviewticket");me(JSON.parse(e))}),[]),console.log("chatresponsedata",W),console.log("Newobjectdata",ve),(0,v.jsx)("div",{className:"col-md-12 background_chat_main",children:(0,v.jsxs)("div",{className:"row px-3 py-4",children:[(0,v.jsxs)("div",{className:"col-md-9 height_of_chat2",children:[(0,v.jsx)("div",{className:"col-md-12 background_chat_head",children:(0,v.jsx)("div",{className:"col-md-12 py-2",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-1 px-0",children:(0,v.jsx)("img",{className:"img-fluid rounded-circle  img_height_width",src:"/images/avatar.webp"})}),(0,v.jsxs)("div",{className:"col-md-2 pt-4 px-0",children:[" ",(0,v.jsxs)("p",{className:"m-0 p-0 name_person",children:[" ",null===ae||void 0===ae||null===(s=ae.request)||void 0===s||null===(n=s.request)||void 0===n||null===(t=n.mainuser)||void 0===t||null===(a=t.user)||void 0===a?void 0:a.name," "]})]}),(0,v.jsx)("div",{className:"col-md-9 m-auto",children:null===ge||void 0===ge?void 0:ge.map((function(e,s){return console.log("item",ge),(0,v.jsx)("a",{href:"".concat(e),target:"_blank",className:"text_dec_none",children:(0,v.jsx)("img",{className:"img-fluid height_of_chat_pic",src:"".concat(e)})})}))})]})})}),(0,v.jsx)("div",{className:"col-md-12 background_chat_head mt-2",children:(0,v.jsx)("div",{className:"col-md-12 py-2",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Gender :"}),(0,v.jsx)("span",{children:!1===(null===ve||void 0===ve||null===(c=ve.request)||void 0===c?void 0:c.is_sub_user)?(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(m=ve.request)||void 0===m||null===(h=m.mainuser)||void 0===h?void 0:h.gender," "]}):(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(p=ve.request)||void 0===p||null===(x=p.user)||void 0===x?void 0:x.gender," "]})})]}),(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Date & Time :"}),(0,v.jsx)("span",{children:(0,v.jsx)(u(),{format:"YYYY-MM-DD / HH:mm:ss A",children:null===ve||void 0===ve?void 0:ve.created_date})})]}),(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Form Title :"}),(0,v.jsx)("span",{children:null===ve||void 0===ve||null===(g=ve.request)||void 0===g||null===(f=g.form)||void 0===f?void 0:f.title})]}),(0,v.jsxs)("div",{className:"col-md-3 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Height :"}),(0,v.jsx)("span",{children:!1===(null===ve||void 0===ve||null===(j=ve.request)||void 0===j?void 0:j.is_sub_user)?(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(_=ve.request)||void 0===_||null===(N=_.mainuser)||void 0===N?void 0:N.height," ",null===ve||void 0===ve||null===(w=ve.request)||void 0===w||null===(q=w.mainuser)||void 0===q?void 0:q.height_unit," "]}):(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(b=ve.request)||void 0===b||null===(y=b.user)||void 0===y?void 0:y.height," ",null===ve||void 0===ve||null===(S=ve.request)||void 0===S||null===(k=S.user)||void 0===k?void 0:k.height_unit," "]})})]}),(0,v.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Catagory :"}),(0,v.jsxs)("span",{children:[" ",null===ve||void 0===ve||null===(Z=ve.request)||void 0===Z||null===(F=Z.form)||void 0===F||null===(I=F.category)||void 0===I?void 0:I.title]})]}),(0,v.jsxs)("div",{className:"col-md-3 mt-2 px-0",children:[" ",(0,v.jsx)("p",{className:"m-0 p-0 name_person",children:"Weight :"}),(0,v.jsx)("span",{children:!1===(null===ve||void 0===ve||null===(E=ve.request)||void 0===E?void 0:E.is_sub_user)?(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(C=ve.request)||void 0===C||null===(D=C.mainuser)||void 0===D?void 0:D.weight," ",null===ve||void 0===ve||null===(O=ve.request)||void 0===O||null===(Q=O.mainuser)||void 0===Q?void 0:Q.weight_unit]}):(0,v.jsxs)(v.Fragment,{children:[null===ve||void 0===ve||null===(T=ve.request)||void 0===T||null===(H=T.user)||void 0===H?void 0:H.weight," ",null===ve||void 0===ve||null===(J=ve.request)||void 0===J||null===(Y=J.user)||void 0===Y?void 0:Y.weight_unit]})})]})]})})}),(0,v.jsx)("div",{className:"col-md-12 height_of_msg py-4 px-2",id:"style-3",ref:he,children:null===W||void 0===W?void 0:W.map((function(e,s){return console.log("indexx12",e),(0,v.jsxs)(v.Fragment,{children:[(null===e||void 0===e?void 0:e.patient_answer)&&(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsx)("h6",{className:"mt-2 bg-white px-3 py-2 rounded-pill",children:e.patient_answer})}),(0,v.jsx)("div",{className:"col-md-6"})]}),(null===e||void 0===e?void 0:e.doctor_question)&&(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-6"}),(0,v.jsx)("div",{className:"col-md-6 text-right",children:(0,v.jsx)("h6",{className:" mt-2 rounded-pill ",children:(0,v.jsx)("span",{className:"color_blue_text px-3 py-1 mt-3 rounded-pill",children:null===e||void 0===e?void 0:e.doctor_question})})})]})]})}))}),(0,v.jsxs)("div",{className:"col-md-12 bg-white py-2 input_bottom d-flex",children:[(0,v.jsx)("input",{className:"form-control new_place_holder w-100",value:R,onChange:function(e){return G(e.target.value)},placeholder:"Enter message here"}),(0,v.jsx)("button",{className:"btn btn-primary ml-2",onClick:qe,children:!1===ee?(0,v.jsx)("i",{class:"fas fa-paper-plane"}):(0,v.jsx)("div",{className:"spinner-grow spinner-grow-sm",role:"status",children:(0,v.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})]}),(0,v.jsxs)("div",{className:"col-md-3 height_of_chat3 pt-3",children:[(0,v.jsx)("h4",{className:"heading_color",children:(0,v.jsx)("b",{children:"Questions/ Answers"})}),(0,v.jsx)("div",{className:"overflow_s",children:null===Ne||void 0===Ne?void 0:Ne.map((function(e,s){var n;return(0,v.jsxs)(v.Fragment,{children:["Document"!==(null===e||void 0===e?void 0:e.typeQ)?(0,v.jsx)(o.Fragment,{children:(0,v.jsxs)("p",{className:"mb-1 mt-3",children:[(0,v.jsx)("b",{children:"Question: "}),null===e||void 0===e||null===(n=e.question)||void 0===n?void 0:n.question]})},s):null,"Document"===(null===e||void 0===e?void 0:e.typeQ)?(0,v.jsx)(v.Fragment,{}):(0,v.jsxs)("p",{className:"mb-1",children:[(0,v.jsx)("b",{children:"Answer: "}),null===e||void 0===e?void 0:e.answer]})]})}))})]})]})})}},5861:function(e,s,n){function l(e,s,n,l,i,t,r){try{var o=e[t](r),a=o.value}catch(d){return void n(d)}o.done?s(a):Promise.resolve(a).then(l,i)}function i(e){return function(){var s=this,n=arguments;return new Promise((function(i,t){var r=e.apply(s,n);function o(e){l(r,i,t,o,a,"next",e)}function a(e){l(r,i,t,o,a,"throw",e)}o(void 0)}))}}n.d(s,{Z:function(){return i}})}}]);
//# sourceMappingURL=105.92cdf656.chunk.js.map